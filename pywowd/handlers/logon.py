from pywowd import opcodes
from binascii import unhexlify

#  world.send(opcodes., unhexlify(''))

def handle_auth_session(world, data):
    world.send(opcodes.SMSG_AUTH_RESPONSE, unhexlify('0c00000000000000000000'))
    world.send(opcodes.SMSG_ADDON_INFO, unhexlify('0201000000000000020100000000000002010000000000000201000000000000020100000000000002010000000000000201000000000000020100000000000002010000000000000201000000000000020100000000000002010000000000000201000000000000020100000000000002010000000000000201000000000000020100000000000002010000000000000201000000000000020100000000000002010000000000000201000000000000020100000000000000000000'))
    world.send(opcodes.SMSG_CLIENTCACHE_VERSION, unhexlify('00000000'))
    world.send(opcodes.SMSG_TUTORIAL_FLAGS, unhexlify('0000000000000000000000000000000000000000000000000000000000000000'))

def handle_account_data_times(world, data):
    world.send(opcodes.SMSG_ACCOUNT_DATA_TIMES, unhexlify('6989814f0115000000000000000000000000000000'))

def handle_char_enum(world, data):
    world.send(opcodes.SMSG_CHAR_ENUM, unhexlify('010100000000000000466f74636f726e00080100000201050101000000000100000000801ac400d884c500001c42000000000000000200000000010000000000000000000000000000000000000000000000000000000000000000000000000000000b2700000400000000000000000000000000000000000000000000042700000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000295100001900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000'))
    
def handle_realm_split(world, data):
    world.send(opcodes.SMSG_REALM_SPLIT, unhexlify('ffffffff0000000030312f30312f303100'))

def handle_player_login(world, data):
    world.send(opcodes.SMSG_LOGIN_VERIFY_WORLD, unhexlify('0100000000801AC400D884C5C8181B4200000000'))
    world.send(opcodes.SMSG_COMPRESSED_UPDATE_OBJECT, unhexlify('6103000078018D523D4B0341109DBDDCC5A0110D188D89600A2B13D44A0BC1EC5978B1110BFB345A460CF8032E22A4B04927F809D606B4893642C00F6C442B09A43092C6C642504BF5CD658F7C40C081B76F666EDEEEECDC1A44A465354BF4D3860E376522C1B93A591EF0FB100776426075A165F576CD14F46C8E66C7715B35C3C831B4ACB75D4B5EA7BEAE35D63868D56A595F9326EA54FB9CB5AE198B70D0AAE15E3D42E8997A1D3D3FE23676F886CADBB7F7A1C8BC4A83A292A80AE465666417DC88AB7D8BF2FA2B292751351E243B10A452F9853E040E5FF292AEFAC657655B5093DF4325F2BBA94E7C99AE14D33CE07F5AB466AB2B37097ED8974EC2E63501F0C579D03C109F20B1006F15607EC381EC73CD26E0EC88E5A9AB01DFE9C11C5129716710312AC582AC141F24EF17826610E037D10F0481096000800546B1F402EB95697991DE97AC214D18384FE387C40F837FB0068659EEA35183B4D40DAD3C046114A07D8A3B6CD08CE294E234382EE2E244C505C5678A67B1077F3F04F33E478A8F159F2BE65E92AF7BF2F3EA5BC6723D662C1731576ADDA6EA11843B74C02F6C197A9E833B179E11CF9FFBFF0395535F5F'))
    world.send(opcodes.SMSG_ACCOUNT_DATA_TIMES, unhexlify('C56C834F01EA0000001F6C834F000000000000000000000000D154834F'))
    world.send(opcodes.SMSG_INIT_WORLD_STATES, unhexlify('010000000E0000006B0100001400D808000000000000D708000000000000D608000000000000D508000000000000D408000000000000D308000000000000770C0000010000003D0F000000000000D90E000001000000021100008495834F1409000000000000130900000000000012090000000000001509000000000000950700000000000096070000000000009707000000000000230B0000000000006F0E000000000000B110000000000000'))
    world.send(opcodes.SMSG_TIME_SYNC_REQ, unhexlify('00000000'))

def handle_ping(world, data):
    world.send(opcodes.SMSG_PONG, data[:4])



"""
Unknown opcodes


20b CMSG_UPDATE_ACCOUNT_DATA


possible required:
CMSG_SET_ACTIVE_MOVER
CMSG_ZONEUPDATE

World Enter:
26a CMSG_SET_ACTIVE_MOVER
36e CMSG_LFG_GET_PLAYER_INFO
2d3 CMSG_BATTLEFIELD_STATUS
211 CMSG_GMTICKET_GETTICKET
1f4 CMSG_ZONEUPDATE
56  CMSG_ITEM_QUERY_SINGLE
447 CMSG_CALENDAR_GET_NUM_PENDING
50  CMSG_NAME_QUERY
3af CMSG_VOICE_SESSION_ENABLE
1cc CMSG_PLAYED_TIME
296 CMSG_LFG_GET_STATUS
4f6 CMSG_UI_TIME_REQUEST
20b CMSG_UPDATE_ACCOUNT_DATA
fe  CMSG_TUTORIAL_FLAG
1ce CMSG_QUERY_TIME
2cd CMSG_REQUEST_RAID_INFO
2bf CMSG_SET_ACTIONBAR_TOGGLES
3fe MSG_GUILD_BANK_MONEY_WITHDRAWN
284 MSG_QUERY_NEXT_MAIL_TIME


"""



